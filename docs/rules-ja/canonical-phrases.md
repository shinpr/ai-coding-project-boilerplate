# ドキュメント一貫性のための標準フレーズ集

このドキュメントは、プロジェクト全体のドキュメントで一貫性を保つための標準化された用語とフレーズを定義します。これらの標準は曖昧性を排除することでAI実行精度を最大化します。

## 標準化された用語

### コア用語

| 概念 | 標準形 | 使用しない表記 |
|---------|---------------|-------------------|
| 作業計画 | 作業計画 | Work Plan、作業計画書、workplan |
| サブエージェント | サブエージェント | sub-agent、sub agent、subagent |
| 品質チェック | 品質チェック | quality assurance、QA、品質保証 |
| Edit/Write/MultiEdit | Edit/Write/MultiEdit | 編集ツール、変更ツール |
| ユーザー承認 | ユーザー承認 | ユーザー確認、ユーザー同意 |
| 実装 | 実装 | コーディング、開発 |
| 調査 | 調査 | 分析、探索 |

### ツール名（常に大文字）
- Read、Grep、LS、Glob、Task、Bash
- Edit、Write、MultiEdit
- TodoWrite、WebSearch、WebFetch

## 曖昧な用語の置き換え

### 条件トリガー - 常に具体的な基準を使用

| ❌ 曖昧 | ✅ 具体的 |
|-------------|------------|
| 「必要に応じて」 | 「[具体的な条件]の場合」 |
| 「適切に」 | 「[具体的なルール/基準]に従って」 |
| 「必要な場合」 | 「[測定可能な閾値]を満たした場合」 |
| 「適切に修正」 | 「エラーメッセージで特定された解決策を使用して修正」 |
| 「それに応じて処理」 | 「[具体的なアクション]によって処理」 |
| 「必要に応じて更新」 | 「[具体的な条件が発生]した場合に更新」 |
| 「適切に検証」 | 「[具体的な基準]が満たされていることを検証」 |

### 具体的な閾値定義

**ファイル数の閾値：**
- 小規模：1-2ファイル
- 中規模：3-5ファイル  
- 大規模：6ファイル以上

**重複の閾値：**
- 1回目：インラインで実装
- 2回目：将来の統合を検討
- 3回目：Rule of Threeに従って統合

**テストカバレッジの閾値：**
- 最低要求：70%
- 目標カバレッジ：80%以上
- クリティカルパス：90%以上

## 代名詞参照の明確化

### 常に先行詞を特定

| ❌ 曖昧 | ✅ 明確 |
|------------|----------|
| 「これが実行される」 | 「document-reviewerエージェントが実行される」 |
| 「これらが必要」 | 「7つのルールファイルが必要」 |
| 「それを完了すべき」 | 「品質チェックを完了すべき」 |
| 「このエージェントがそれを処理」 | 「task-executorエージェントが実装を処理」 |

## 条件文のトリガー

### ユーザー承認要件

**明示的な承認が必要：**
- Edit/Write/MultiEditツールを使用する前
- 5ファイル以上に影響する変更を実装する前
- 外部依存関係を追加する前
- 破壊的変更を行う前

**承認が不要：**
- Read/Grep/LS/Glob/Taskツールを使用した調査
- 作業計画やドキュメントの作成
- 品質チェックの実行
- エラーメッセージの読み取り

### 例外条件

**即座の実装が許可される場合：**
- ユーザーが明示的に「すぐに修正して」と述べた場合
- ユーザーが明示的に「直接実装して」と述べた場合
- ユーザーが明示的に「承認不要」と述べた場合
- 緊急の本番環境修正（事後ドキュメント化を伴う）

## ステータス値

### タスクステータス（標準化）
- `pending` - 未開始
- `in_progress` - 作業中
- `completed` - 正常に完了
- `blocked` - 進行不可

### ドキュメントステータス（標準化）
- `draft` - 作成中
- `review` - レビュー待ち
- `approved` - 使用可能
- `deprecated` - 非推奨

### 品質チェックステータス
- `not_started` - チェック未開始
- `running` - チェック実行中
- `passed` - チェック成功
- `failed` - 問題発見

## アクションフレーズ

### 調査アクション
- 「Read/Grep/LS/Globツールを使用して調査」
- 「現在の実装を分析」
- 「既存のコード構造をレビュー」

### 実装アクション
- 「ユーザー承認を受けた後に実装」
- 「Edit/Write/MultiEditを使用して変更を適用」
- 「完了とマークする前に品質チェックを実行」

### エスカレーションアクション
- 「5ファイル以上に影響する場合はユーザー承認を要求」
- 「トレードオフが不明な場合はユーザーにエスカレート」
- 「依存関係を追加する前にユーザーに確認」

## 繰り返される重要なルール（正確なフレーズを維持）

これらのフレーズは使用される場所で同一でなければなりません：

1. **「Edit/Write/MultiEditツールを使用する前に必ずユーザー承認を取得」**
2. **「ドキュメントレビューなしの実装開始は絶対禁止」**
3. **「すべての品質チェックがエラーなしで合格しない限り、作業は完了とみなされない」**
4. **「any型は完全に禁止 - unknown型とタイプガードを使用」**
5. **「調査OK、実装STOP」**

## 条件ロジックの標準化

### 明確な決定木

**ファイル規模の決定木：**
```
IF file_count = 1-2 THEN 「小規模」
ELSE IF file_count = 3-5 THEN 「中規模」
ELSE IF file_count >= 6 THEN 「大規模」
```

**ドキュメント要件の決定木：**
```
IF 新機能 THEN
  PRD → (IF アーキテクチャ変更 THEN ADR) → Design Doc → 作業計画
ELSE IF 大規模変更 (6ファイル以上) THEN
  ADR → Design Doc → 作業計画 (必須)
ELSE IF 中規模変更 (3-5ファイル) THEN
  (Design Doc検討) → 作業計画 (推奨)
ELSE IF 小規模変更 (1-2ファイル) THEN
  直接実装
```

**品質チェックの決定木：**
```
IF すべてのチェックに合格 THEN 完了とマーク
ELSE IF エラー発見 THEN
  エラー修正 → チェック再実行
```

**統合の決定木：**
```
IF 重複回数 = 1 THEN インラインで維持
ELSE IF 重複回数 = 2 THEN 将来のために記録
ELSE IF 重複回数 >= 3 THEN 今すぐ統合
```

## 使用ガイドライン

1. **検索/置換の適用**: これらの標準フレーズを正確に使用
2. **コンテキストの保持**: 用語を置き換える際に周囲のコンテキストを維持
3. **冗長性の保持**: 重要なルールのすべての戦略的繰り返しを維持
4. **簡潔さより一貫性**: 多様な短いフレーズより一貫した長いフレーズを優先

このドキュメントは、言語的精度と一貫性を通じてAI実行精度を最大化します。