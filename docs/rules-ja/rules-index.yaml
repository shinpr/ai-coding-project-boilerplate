# 各ルールファイルのメタデータ
# 各ルールの概要、タグ、典型的な使用場面、サイズを管理

rules:
  typescript:
    file: "typescript.md"
    tags: [implementation, type-safety, async, refactoring, coding-style]
    typical-use: "TypeScriptコードの作成・修正・リファクタリング"
    size: medium
    sections:
      - "基本原則"
      - "コメント記述ルール"
      - "型安全性"
      - "コーディング規約"
      - "エラーハンドリング"
      - "リファクタリング手法"
      - "パフォーマンス最適化"

  typescript-testing:
    file: "typescript-testing.md"
    tags: [quality, testing, tdd, coverage, vitest]
    typical-use: "テスト作成、TDD実践、品質チェック"
    size: medium
    sections:
      - "テストフレームワーク"
      - "テストの基本方針"
      - "テストの設計原則"
      - "テストヘルパーの活用ルール"
      - "テストの実装規約"
      - "Vitestの基本例"

  ai-development-guide:
    file: "ai-development-guide.md"
    tags: [process, workflow, quality-check, debugging, best-practices]
    typical-use: "実装プロセス全般、品質チェック手順、デバッグ"
    size: large
    sections:
      - "実装前必須チェックリスト"
      - "実装中の自己診断トリガー"
      - "赤信号パターン（即座に停止すべき状況）"
      - "Rule of Three（重複の闾値）"
      - "よくある失敗パターンと回避方法"
      - "エスカレーション基準（必ずユーザーに確認）"
      - "指示の優先順位"
      - "ワークフロー注意点"
      - "デバッグフロー"
      - "品質チェック（実装完了時必須）"
      - "チートシート"

  technical-spec:
    file: "technical-spec.md"
    tags: [architecture, design, documentation, environment, data-flow]
    typical-use: "技術設計、環境設定、ドキュメント作成プロセス"
    size: medium
    sections:
      - "技術スタックの基本方針"
      - "環境変数管理とセキュリティ"
      - "アーキテクチャ設計"
      - "依存性注入（DI）パターン"
      - "設計ドキュメントとプロセス"
      - "ビルドとテスト"

  project-context:
    file: "project-context.md"
    tags: [context, project-specific]
    typical-use: "プロジェクト固有情報"
    size: small
    sections:
      - "基本設定"
      - "実装原則"
      - "カスタマイズガイド"

  architecture-decision-process:
    file: "architecture-decision-process.md"
    tags: [architecture, decision-making, adr, process, large-scale]
    typical-use: "大規模変更、アーキテクチャ決定、ADR作成"
    size: medium
    sections:
      - "目的"
      - "ADR作成が必要なケース"
      - "ADR作成プロセス"
      - "ADRステータス"
      - "ADRとDesign Docの使い分け"
      - "AI利用時のルール"

  vertical-slice-architecture:
    file: "architecture/vertical-slice/rules.md"
    tags: [architecture, vertical-slice, llm-optimized, single-file]
    typical-use: "Vertical Slice Architecture採用時"
    size: medium
    sections:
      - "コア実装ルール"
      - "実装ガイドライン"
      - "共通化の判断基準"
      - "LLM向け実装チェックリスト"
      - "アンチパターン"
      - "ベストプラクティス"
      - "LLM向け実装指針"
      - "まとめ"

  hybrid-progressive-architecture:
    file: "architecture/hybrid-progressive/rules.md"
    tags: [architecture, scalable, progressive, layered]
    typical-use: "段階的に成長するプロジェクト"
    size: medium
    sections:
      - "基本原則"
      - "Stage別実装ルール"
      - "移行ルール"
      - "判断フローチャート"
      - "コーディング規約"
      - "品質管理"
      - "LLM向け実装指針"
      - "まとめ"