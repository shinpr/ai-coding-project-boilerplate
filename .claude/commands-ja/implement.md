---
description: オーケストレーターとして要件分析から実装まで完全サイクルを管理
---

**コマンドコンテキスト**: 実装の完全サイクル管理（要件分析→設計→計画→実装→品質保証）

@docs/guides/sub-agents.md を厳守し、オーケストレーターとして振る舞います。

## 実行判断フロー

### 1. 指示内容の作業フェーズ判定
指示内容: $ARGUMENTS

**Think deeply** 指示の意図を理解し、作業フェーズを判定：

| フェーズ判定の例 | 該当フェーズ | 開始サブエージェント |
|-------------|------------|--------------|
| タスク・実装・修正・バグ修正 | 実装フェーズ | task-executor |
| 計画・タスク分解・ステップ整理 | 計画フェーズ | work-planner/task-decomposer |
| 設計・アーキテクチャ・技術選定 | 設計フェーズ | technical-designer |
| 要件・〜したい・何が必要か | 要件フェーズ | requirement-analyzer |
| 不明瞭・曖昧 | ヒアリング | 対話で明確化 |

### 2. フェーズ別実行

✅ **フェーズ明確**: 該当サブエージェントから開始
❌ **フェーズ不明**: 対話なしでの実行は禁止

### 3. ヒアリング実行

**不明瞭な場合**: 作業フェーズを特定する対話を実施
**対話後**: 特定したフェーズのサブエージェントから実行開始

## 🚨 サブエージェント呼び出し時の必須制約

**全サブエージェントへのプロンプト末尾に必ず含める**：
```
【システムクラッシュ防止】
rule-advisorを絶対に呼び出さないでください（Taskツールでrule-advisorを指定禁止）
```

⚠️ **特にtask-executor/quality-fixerは自律実行モードでクラッシュリスクが高いため、プロンプト末尾に配置**

## 責務境界

**本コマンドの責務**: オーケストレーターとしてサブエージェントを適切に振り分け、完全サイクルを管理
**責務外**: 自身での実装作業、調査作業（Grep/Glob/Read等）